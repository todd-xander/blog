:root {
    --baselineStretch: 1.1;
    /* default contrast */
    --ac-light: #36c;
    --fg-light: #52525b;
    --bg-light: #fff;
    --midtone: gray;
    --fg-dark: #a1a1aa;
    --bg-dark: #111;
    --ac-dark: #fa0;

    /* less contrast */
    --ac-light-less: #36c;
    --fg-light-less: #13253d;
    --bg-light-less: #e7e2e2;
    --midtone-less: #7d8490;
    --fg-dark-less: #e7e2e2;
    --bg-dark-less: #13253d;
    --ac-dark-less: #fa0;

    /* more contrast */
    --ac-light-more: #36c;
    --fg-light-more: #000;
    --bg-light-more: #fff;
    --midtone-more: gray;
    --fg-dark-more: #fff;
    --bg-dark-more: #000;
    --ac-dark-more: #fa0;

    /* mark & selector highlight color */
    --hl: yellow;
}

:lang(zh-CN) .rm {
    font-family: var(--rm), LXGW WenKai Lite, sans-serif;
}

h1 {
    text-transform: inherit;
}

b.k {
    color: inherit !important;
}

h5, h6 {
    font-variant-caps: unset;
}

h6 {
    line-height: normal;
    padding: 0;
    margin-right: 1ch;
}

code, pre>code {
    font-family: var(--tt), LXGW Bright Code, monospace;
}

:lang(zh-CN) .letterine>i {
    line-height: 4rem;
    font-size: 3em;
}

header time {
    font-size: var(--small);
}

.carousel__viewport__slide .feed-item .par {
    --grd: linear-gradient(var(--off) 75%, transparent 100%);
    max-height: 12rem;
    padding-bottom: 1rem;
}

.feed-item>footer, .feed-item>hgroup>div {
    position: relative;
    z-index: 2;
}

main#taxonomy .carousel__viewport {
    flex-flow: wrap;
}

#list-tags  ul li a::after {
    content: attr(data-post-counter);
    font-family: var(--tt), monospace;
    border-radius: 2px 50% 50% 2px;
    margin-right: -10px;
    background: var(--bg);
    padding: 0 0.5rem;
    margin-left: 0.5rem;
}

#taxonomy ul.carousel__viewport a::after {
    position: absolute;
    font-family: var(--tt), monospace;
    right: 1ex;
    bottom: 1ex;
    border-radius: 0.7ex;
    background: var(--bg);
    padding: 0.7ex 0;
    width: calc(3.2rem - 2ex);
    text-align: center;
    text-overflow: ellipsis;
    white-space: nowrap;
    content: attr(data-post-counter);
}

#has-share ul {
    gap: 2px;
    flex-direction: row-reverse;
}

#has-share ul li a i {
    color: var(--mid) !important;
}

#has-share ul li a:hover i {
    color: var(--bg) !important;
}

#has-share .threads:before {content: '\e959';}

#has-share ul li:has(.email),
#has-share ul li:has(.whatsapp),
#has-share ul li:has(.hackernews),
#has-share ul li:has(.tumblr),
#has-share ul li:has(.pinterest),
#has-share ul li:has(.vk),
#has-share ul li:has(.xing) {
    display: none;
}

#related:not(:has(li)) {
    display: none;
}

#focusMode {
    bottom: 0 !important;
    left: 0;
}

#focusMode label {
    cursor: pointer;
}

.form.on-plank, .pagefind-ui {
    width: var(--max-width);
}

.chroma .lntd:first-child {
    background-color: var(--bg);
    position: sticky;
    left: 0;
}

.chroma .lntd:last-child {
    width: 100%;
}

.highlight>pre.chroma {
    overflow: auto;
}

.chroma>code, .chroma .lntd:last-child code {
    display: table;
}

.chroma > code,
.chroma .lntd:last-child code {
    width: 100%;
}

.chroma code .line {
    padding: 0 1ch;
}

.list-month>summary {
    list-style: revert;
}

.grain, #dwclock {
    display: none;
}

#series {
    margin-right: 2ch;
}

#series::before {
    content: attr(aria-label);
}

#series > span {
    display: none;
}

ul.inline::before {
    display: none;
}

#has-l10n summary:after {
    position: relative;
    top: .1em;
    left: .43em;
    align-self: center;
    margin-left: auto;
    background: linear-gradient(to top, transparent 49%, var(--g18) 51%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    font: 8pt base-ui;
    content: '\e913';
}

#has-l10n[open] summary:after {
    color: var(--fg);
    top: -0.1em;
}

#has-pagination {
    width: var(--golden-ratio);
    margin-top: 1in;
}

#home #has-pagination {
    width: initial;
}

#has-timeline time {
    font-family: var(--tt);
    margin-right: 1ch;
}

#comments>*, .giscus {
    width: inherit;
}

.column--multicols {
    display: flex;
    flex-flow: wrap;
    gap: var(--vfoot);
}

#main-footer-primary {
    flex-grow: 1;
}

#main-footer-secondary {
    display: flex;
    flex-grow: 1;
    flex-flow: wrap;
    gap: 2rem;
    justify-content: space-between;
}

#menu-footer:first-child {
    width: 100%;
}

div+#menu-footer {
    padding: 0 2rem;
    margin: 0 auto;
}

div+#menu-footer, .column>div+div, .column__item+.column__item {
    margin-top: 0;
}

#list-tags .tr {
    font-size: small;
}

:root {
    --golden-ratio: 75%;
    --marginparwidth: 22vw;
}

.marginpar {
    left: var(--marginparwidth);
}

#content p img {
    width: auto;
    max-width: calc(100% - var(--indent));
}

figure.fullwidth img {
    width: 100%;
    max-width: 100%;
}

#content .marginpar img {
    max-width: 100%;
}

#content > .highlight,
#content > pre,
#content > table,
#content > dl,
#content > hr
{
    width: var(--golden-ratio);
}

#content p:not(:first-of-type) {
    text-indent: revert;
}

#content .chroma .line .ln {
    color: var(--n8e);
    margin-right: 1ch;
    user-select: none;
}

#content .chroma .line.hl .ln {
    font-weight: bold;
}

#content .chroma .lnlinks:after {
    content: '';
}

.footnotes hr {
    width: 100%;
}

#colophon>div {
    align-items: flex-start;
}

#qr {
    padding: 2px;
    display: flex;
    border-radius: 8px;
    border: var(--border);
}

input.toggle + label {
    padding-right: 3.6rem !important;
}

.verbose {
    font: var(--sf), sans-serif;
    font-size: 0.85em;
    user-select: none;
}

.form__input {
    flex: 1;
    border: none;
    border-radius: 2rem 0 0 2rem;
    background: none;
    padding: 0;
    padding-left: 1em;
    color: var(--fg);
    font-family: var(--sf), sans-serif;
}

.form__button {
    display: inline-flex;
    position: relative;
    border: none;
    border-radius: 0 50% 50% 0;
    background: none;
    padding: 0;
}

.giscus-frame {
    max-width: 800px;
    margin: 0 auto;
}
.giscus {
    display: flex;
    padding: var(--bigskip) var(--medskip);
    border-top: var(--bound);
}

body.focus .giscus {
    display: none;
}

@media (max-width: 640px) {
    :root {
        --golden-ratio: 100%;
        --marginparwidth: 100% !important;
    }

    #top-nav>nav .on-deck {
        justify-content: center;
    }

    #top-nav .icon {
        position: inherit;
        margin: 0 auto;
    }

    .marginpar-ctrl+label::before {
        cursor: pointer;
    }

    .marginpar-ctrl:checked+label+.marginpar {
        margin: 0.5em 0;
        padding: 1em 0 1em var(--indent);
        background-color: var(--g18s);
        border-radius: 6px;
    }

    .giscus {
        padding: var(--bigskip) 0;
        
    }
}

@media (min-width: 1440px) {
    :root {
        --golden-ratio: 75%;
        --void: calc((100vw - var(--max-width) - 1rem) / 2) !important;
        --marginparwidth: calc(var(--max-width) * 0.25) !important;
    }
}

@media print {
    body {
        padding-left: 0 !important;
        padding-right: 0 !important;
    }

    #list-tags {
        display: none;
    }

    #main-footer a::after, #content a::after {
        content: ' ';
    }

    .marginpar {
        width: var(--marginparwidth);
    }

    .marginpar.abs {
        right: 0;
        width: var(--marginparwidth);
    }

    .marginpar-ctrl, .marginpar-ctrl+label::before {
        display: none;
    }

    .randomBtn {
        display: none !important;
    }

    #contentinfo {
        display: flex;
        flex-direction: column;
        gap: var(--bigskip);
    }

    #colophon {
        width: auto;
    }

    #colophon>div {
        display: flex;
        align-items: flex-start;
    }

    #colophon .verbose {
        font-size: 1em;
        display: flex;
        flex-direction: column;
        
    }

    #qr {
        height: inherit;
    }

    .giscus {
        display: none;
    }

    #has-timeline ol {
        border-left: 2.5pt solid var(--g18s);
    }

    #has-timeline>p {
        display: none;
    }

    #has-timeline.has-details ol {
        column-width: inherit;
    }

    #has-timeline .has-aria-label-top:before, #has-timeline .has-aria-label:after {
        display: inline-block;
        margin-right: 1ch;
    }

    #main-footer a::after {
        content: "";
    }

    #main-footer-secondary {
        display: none;
    }

    #body-footer {
        display: none !important;
    }
}